# API веб-приложения для работы с коллекцией мемов
## Это API позволяет пользователям: ##
- получить список всех мемов (с пагинацией),
- получить конкретный мем по его ID,
- добавить новый мем (с картинкой и текстом),
- обновить существующий мем,                                        
- удалить мем. 

Попробуйте использовать данный сервис: http://127.0.0.1:8000


## Инструкция по установке

### Предварительная подготовка
1. Установите на ПК интерпретатор языка программирования Python (версии 3.9 и новее).
2. Установите на ПК Docker
3. Рекомендуем поставить виртуальное окружение в директории проекта: 

    ```python3 -m venv prod```
4. Активируйте виртуальное окружение:
    
    ```Windows:  prod\Scripts\activate```

    ```Linux / MacOS: source prod/bin/activate```
5. Установите необходимые библиотеки с помощью команды:

    ```pip install -r requirements.txt```

### Настройка базы данных PostgreSQL
Для настройки базы данных укажите имя пользователя, пароль, хост, порт, имя в директории **app** в файле **.env** 

Пример: 

POSTGRES_USER=admin 
POSTGRES_PASSWORD=admin


### Миграции
Миграции базы данных осуществляются при помощи инструмента Alembic. 
Перед запуском приложения укажите sqlalchemy.url в файле **alembic.ini** 

Пример: 

sqlalchemy.url = "postgresql+asyncpg://admin:admin@localhost:5432/db"

Документация Alembic: https://alembic.sqlalchemy.org/en/latest/


5. Запутите приложение при помощи Docker:

    ```docker-compose build```
    ```docker-compose up meme_app```


### Тесты ###
Тесты написаны с использованием модуля pytest. 
Запустите тесты при помощи Docker:

    ```docker-compose build```
    ```docker-compose up test_app```


### Документирование API ###
Ознакомьтесь с API приложения: http://127.0.0.1:8000/docs